<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Signal an error, warning, or message — abort • rlang</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Signal an error, warning, or message — abort"><meta name="description" content="These functions are equivalent to base functions base::stop(),
base::warning(), and base::message(). They signal a condition
(an error, warning, or message respectively) and make it easy to
supply condition metadata:
Supply class to create a classed condition that can be caught
or handled selectively, allowing for finer-grained error
handling.
Supply metadata with named ... arguments. This data is stored
in the condition object and can be examined by handlers.
Supply call to inform users about which function the error
occurred in.
Supply another condition as parent to create a chained condition.


Certain components of condition messages are formatted with unicode
symbols and terminal colours by default. These aspects can be
customised, see Customising condition messages."><meta property="og:description" content="These functions are equivalent to base functions base::stop(),
base::warning(), and base::message(). They signal a condition
(an error, warning, or message respectively) and make it easy to
supply condition metadata:
Supply class to create a classed condition that can be caught
or handled selectively, allowing for finer-grained error
handling.
Supply metadata with named ... arguments. This data is stored
in the condition object and can be examined by handlers.
Supply call to inform users about which function the error
occurred in.
Supply another condition as parent to create a chained condition.


Certain components of condition messages are formatted with unicode
symbols and terminal colours by default. These aspects can be
customised, see Customising condition messages."><meta property="og:image" content="https://rlang.r-lib.org/logo.png"><script defer data-domain="rlang.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rlang</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tidy-evaluation" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tidy evaluation</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tidy-evaluation"><li><h6 class="dropdown-header" data-toc-skip>Overviews</h6></li>
    <li><a class="dropdown-item" href="../reference/topic-data-mask.html">What is data-masking and why do I need `{{`?</a></li>
    <li><a class="dropdown-item" href="../reference/topic-data-mask-programming.html">Data mask programming patterns</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Guides</h6></li>
    <li><a class="dropdown-item" href="../reference/topic-data-mask-ambiguity.html">The data mask ambiguity</a></li>
    <li><a class="dropdown-item" href="../reference/topic-double-evaluation.html">The double evaluation problem</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Notes</h6></li>
    <li><a class="dropdown-item" href="../reference/topic-inject-out-of-context.html">What happens if I use injection operators out of context?</a></li>
    <li><a class="dropdown-item" href="../reference/topic-embrace-non-args.html">Does `{{` work on regular objects?</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-metaprogramming" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Metaprogramming</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-metaprogramming"><li><h6 class="dropdown-header" data-toc-skip>Overviews</h6></li>
    <li><a class="dropdown-item" href="../reference/topic-defuse.html">Defusing R expressions</a></li>
    <li><a class="dropdown-item" href="../reference/topic-inject.html">Injecting with `!!`, `!!!`, and glue syntax</a></li>
    <li><a class="dropdown-item" href="../reference/topic-metaprogramming.html">Metaprogramming patterns</a></li>
    <li><a class="dropdown-item" href="../reference/topic-quosure.html">What are quosures and when are they needed?</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Guides</h6></li>
    <li><a class="dropdown-item" href="../reference/topic-multiple-columns.html">Taking multiple columns without `...`</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Notes</h6></li>
    <li><a class="dropdown-item" href="../reference/topic-embrace-constants.html">Why are strings and other constants enquosed in the empty environment?</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-conditions" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Conditions</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-conditions"><li><h6 class="dropdown-header" data-toc-skip>Guides</h6></li>
    <li><a class="dropdown-item" href="../reference/topic-error-call.html">Including function calls in error messages</a></li>
    <li><a class="dropdown-item" href="../reference/topic-error-chaining.html">Including contextual information with error chains</a></li>
    <li><a class="dropdown-item" href="../reference/topic-condition-formatting.html">Formatting messages with cli</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Notes</h6></li>
    <li><a class="dropdown-item" href="../reference/topic-condition-customisation.html">Customising condition messages</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/02/glue-strings-and-tidy-eval/">Version 0.4.3</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/06/rlang-0-4-0/">Version 0.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/01/rlang-0-3-1/">Version 0.3.1</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/10/rlang-0-3-0/">Version 0.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/03/rlang-0.2.0/">Version 0.2.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/rlang/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Signal an error, warning, or message</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/rlang/blob/main/R/cnd-abort.R" class="external-link"><code>R/cnd-abort.R</code></a>, <a href="https://github.com/r-lib/rlang/blob/main/R/cnd-signal.R" class="external-link"><code>R/cnd-signal.R</code></a></small>
      <div class="d-none name"><code>abort.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions are equivalent to base functions <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">base::stop()</a></code>,
<code><a href="https://rdrr.io/r/base/warning.html" class="external-link">base::warning()</a></code>, and <code><a href="https://rdrr.io/r/base/message.html" class="external-link">base::message()</a></code>. They signal a condition
(an error, warning, or message respectively) and make it easy to
supply condition metadata:</p><ul><li><p>Supply <code>class</code> to create a classed condition that can be caught
or handled selectively, allowing for finer-grained error
handling.</p></li>
<li><p>Supply metadata with named <code>...</code> arguments. This data is stored
in the condition object and can be examined by handlers.</p></li>
<li><p>Supply <code>call</code> to inform users about which function the error
occurred in.</p></li>
<li><p>Supply another condition as <code>parent</code> to create a <a href="topic-error-chaining.html">chained condition</a>.</p></li>
</ul><p>Certain components of condition messages are formatted with unicode
symbols and terminal colours by default. These aspects can be
customised, see <a href="topic-condition-customisation.html">Customising condition messages</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">abort</span><span class="op">(</span></span>
<span>  message <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  class <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  <span class="va">call</span>,</span>
<span>  body <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  footer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  trace <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_cli_format <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .inherit <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .internal <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .frame <span class="op">=</span> <span class="fu"><a href="stack.html">caller_env</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .trace_bottom <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .subclass <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">warn</span><span class="op">(</span></span>
<span>  message <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  class <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  body <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  footer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_cli_format <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .inherit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"always"</span>, <span class="st">"regularly"</span>, <span class="st">"once"</span><span class="op">)</span>,</span>
<span>  .frequency_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .subclass <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">inform</span><span class="op">(</span></span>
<span>  message <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  class <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  body <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  footer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_cli_format <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .inherit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"always"</span>, <span class="st">"regularly"</span>, <span class="st">"once"</span><span class="op">)</span>,</span>
<span>  .frequency_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .subclass <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">signal</span><span class="op">(</span>message <span class="op">=</span> <span class="st">""</span>, <span class="va">class</span>, <span class="va">...</span>, .subclass <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">reset_warning_verbosity</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">reset_message_verbosity</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-message">message<a class="anchor" aria-label="anchor" href="#arg-message"></a></dt>
<dd><p>The message to display, formatted as a <strong>bulleted
list</strong>. The first element is displayed as an <em>alert</em> bullet
prefixed with <code>!</code> by default. Elements named <code>"*"</code>, <code>"i"</code>, <code>"v"</code>,
<code>"x"</code>, and <code>"!"</code> are formatted as regular, info, success,
failure, and error bullets respectively. See <a href="topic-condition-formatting.html">Formatting messages with cli</a>
for more about bulleted messaging.</p>
<p>If a message is not supplied, it is expected that the message is
generated <strong>lazily</strong> through <code><a href="cnd_message.html">cnd_header()</a></code> and <code><a href="cnd_message.html">cnd_body()</a></code>
methods. In that case, <code>class</code> must be supplied. Only <code>inform()</code>
allows empty messages as it is occasionally useful to build user
output incrementally.</p>
<p>If a function, it is stored in the <code>header</code> field of the error
condition. This acts as a <code><a href="cnd_message.html">cnd_header()</a></code> method that is invoked
lazily when the error message is displayed.</p></dd>


<dt id="arg-class">class<a class="anchor" aria-label="anchor" href="#arg-class"></a></dt>
<dd><p>Subclass of the condition.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional data to be stored in the condition object.
If you supply condition fields, you should usually provide a
<code>class</code> argument. You may consider prefixing condition fields
with the name of your package or organisation to prevent name
collisions.</p></dd>


<dt id="arg-call">call<a class="anchor" aria-label="anchor" href="#arg-call"></a></dt>
<dd><p>The execution environment of a currently running
function, e.g. <code>call = caller_env()</code>. The corresponding function
call is retrieved and mentioned in error messages as the source
of the error.</p>
<p>You only need to supply <code>call</code> when throwing a condition from a
helper function which wouldn't be relevant to mention in the
message.</p>
<p>Can also be <code>NULL</code> or a <a href="topic-defuse.html">defused function call</a> to
respectively not display any call or hard-code a code to display.</p>
<p>For more information about error calls, see <a href="topic-error-call.html">Including function calls in error messages</a>.</p></dd>


<dt id="arg-body-footer">body, footer<a class="anchor" aria-label="anchor" href="#arg-body-footer"></a></dt>
<dd><p>Additional bullets.</p></dd>


<dt id="arg-trace">trace<a class="anchor" aria-label="anchor" href="#arg-trace"></a></dt>
<dd><p>A <code>trace</code> object created by <code><a href="trace_back.html">trace_back()</a></code>.</p></dd>


<dt id="arg-parent">parent<a class="anchor" aria-label="anchor" href="#arg-parent"></a></dt>
<dd><p>Supply <code>parent</code> when you rethrow an error from a
condition handler (e.g. with <code><a href="try_fetch.html">try_fetch()</a></code>).</p><ul><li><p>If <code>parent</code> is a condition object, a <em>chained error</em> is
created, which is useful when you want to enhance an error with
more details, while still retaining the original information.</p></li>
<li><p>If <code>parent</code> is <code>NA</code>, it indicates an unchained rethrow, which
is useful when you want to take ownership over an error and
rethrow it with a custom message that better fits the
surrounding context.</p>
<p>Technically, supplying <code>NA</code> lets <code>abort()</code> know it is called
from a condition handler. This helps it create simpler
backtraces where the condition handling context is hidden by
default.</p></li>
</ul><p>For more information about error calls, see <a href="topic-error-chaining.html">Including contextual information with error chains</a>.</p></dd>


<dt id="arg-use-cli-format">use_cli_format<a class="anchor" aria-label="anchor" href="#arg-use-cli-format"></a></dt>
<dd><p>Whether to format <code>message</code> lazily using
<a href="https://cli.r-lib.org/" class="external-link">cli</a> if available. This results in
prettier and more accurate formatting of messages. See
<code><a href="local_use_cli.html">local_use_cli()</a></code> to set this condition field by default in your
package namespace.</p>
<p>If set to <code>TRUE</code>, <code>message</code> should be a character vector of
individual and unformatted lines. Any newline character <code>"\\n"</code>
already present in <code>message</code> is reformatted by cli's paragraph
formatter. See <a href="topic-condition-formatting.html">Formatting messages with cli</a>.</p></dd>


<dt id="arg--inherit">.inherit<a class="anchor" aria-label="anchor" href="#arg--inherit"></a></dt>
<dd><p>Whether the condition inherits from <code>parent</code>
according to <code><a href="cnd_inherits.html">cnd_inherits()</a></code> and <code><a href="try_fetch.html">try_fetch()</a></code>. By default,
parent conditions of higher severity are not inherited. For
instance an error chained to a warning is not inherited to avoid
unexpectedly catching an error downgraded to a warning.</p></dd>


<dt id="arg--internal">.internal<a class="anchor" aria-label="anchor" href="#arg--internal"></a></dt>
<dd><p>If <code>TRUE</code>, a footer bullet is added to <code>message</code>
to let the user know that the error is internal and that they
should report it to the package authors. This argument is
incompatible with <code>footer</code>.</p></dd>


<dt id="arg--file">.file<a class="anchor" aria-label="anchor" href="#arg--file"></a></dt>
<dd><p>A connection or a string specifying where to print the
message. The default depends on the context, see the <code>stdout</code> vs
<code>stderr</code> section.</p></dd>


<dt id="arg--frame">.frame<a class="anchor" aria-label="anchor" href="#arg--frame"></a></dt>
<dd><p>The throwing context. Used as default for
<code>.trace_bottom</code>, and to determine the internal package to mention
in internal errors when <code>.internal</code> is <code>TRUE</code>.</p></dd>


<dt id="arg--trace-bottom">.trace_bottom<a class="anchor" aria-label="anchor" href="#arg--trace-bottom"></a></dt>
<dd><p>Used in the display of simplified backtraces
as the last relevant call frame to show. This way, the irrelevant
parts of backtraces corresponding to condition handling
(<code><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch()</a></code>, <code><a href="try_fetch.html">try_fetch()</a></code>, <code>abort()</code>, etc.) are hidden by
default. Defaults to <code>call</code> if it is an environment, or <code>.frame</code>
otherwise. Without effect if <code>trace</code> is supplied.</p></dd>


<dt id="arg--subclass">.subclass<a class="anchor" aria-label="anchor" href="#arg--subclass"></a></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> This argument
was renamed to <code>class</code> in rlang 0.4.2 for consistency with our
conventions for class constructors documented in
<a href="https://adv-r.hadley.nz/s3.html#s3-subclassing" class="external-link">https://adv-r.hadley.nz/s3.html#s3-subclassing</a>.</p></dd>


<dt id="arg--frequency">.frequency<a class="anchor" aria-label="anchor" href="#arg--frequency"></a></dt>
<dd><p>How frequently should the warning or message be
displayed? By default (<code>"always"</code>) it is displayed at each
time. If <code>"regularly"</code>, it is displayed once every 8 hours. If
<code>"once"</code>, it is displayed once per session.</p></dd>


<dt id="arg--frequency-id">.frequency_id<a class="anchor" aria-label="anchor" href="#arg--frequency-id"></a></dt>
<dd><p>A unique identifier for the warning or
message. This is used when <code>.frequency</code> is supplied to recognise
recurring conditions. This argument must be supplied if
<code>.frequency</code> is not set to <code>"always"</code>.</p></dd>


<dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>The identifying string of the condition that was supplied
as <code>.frequency_id</code> to <code>warn()</code> or <code>inform()</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<ul><li><p><code>abort()</code> throws subclassed errors, see
<code><a href="rlang_error.html">"rlang_error"</a></code>.</p></li>
<li><p><code>warn()</code> temporarily set the <code>warning.length</code> global option to
the maximum value (8170), unless that option has been changed
from the default value. The default limit (1000 characters) is
especially easy to hit when the message contains a lot of ANSI
escapes, as created by the crayon or cli packages</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="error-prefix">Error prefix<a class="anchor" aria-label="anchor" href="#error-prefix"></a></h2>


<p>As with <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">base::stop()</a></code>, errors thrown with <code>abort()</code> are prefixed
with <code>"Error: "</code>. Calls and source references are included in the
prefix, e.g. <code>"Error in </code>my_function()<code> at myfile.R:1:2:"</code>. There
are a few cosmetic differences:</p><ul><li><p>The call is stripped from its arguments to keep it simple. It is
then formatted using the <a href="https://cli.r-lib.org/" class="external-link">cli package</a> if
available.</p></li>
<li><p>A line break between the prefix and the message when the former
is too long. When a source location is included, a line break is
always inserted.</p></li>
</ul><p>If your throwing code is highly structured, you may have to
explicitly inform <code>abort()</code> about the relevant user-facing call to
include in the prefix. Internal helpers are rarely relevant to end
users. See the <code>call</code> argument of <code>abort()</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="backtrace">Backtrace<a class="anchor" aria-label="anchor" href="#backtrace"></a></h2>


<p><code>abort()</code> saves a backtrace in the <code>trace</code> component of the error
condition. You can print a simplified backtrace of the last error
by calling <code><a href="last_error.html">last_error()</a></code> and a full backtrace with
<code>summary(last_error())</code>. Learn how to control what is displayed
when an error is thrown with <code><a href="rlang_backtrace_on_error.html">rlang_backtrace_on_error</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="muffling-and-silencing-conditions">Muffling and silencing conditions<a class="anchor" aria-label="anchor" href="#muffling-and-silencing-conditions"></a></h2>


<p>Signalling a condition with <code>inform()</code> or <code>warn()</code> displays a
message in the console. These messages can be muffled as usual with
<code><a href="https://rdrr.io/r/base/message.html" class="external-link">base::suppressMessages()</a></code> or <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">base::suppressWarnings()</a></code>.</p>
<p><code>inform()</code> and <code>warn()</code> messages can also be silenced with the
global options <code>rlib_message_verbosity</code> and
<code>rlib_warning_verbosity</code>. These options take the values:</p><ul><li><p><code>"default"</code>: Verbose unless the <code>.frequency</code> argument is supplied.</p></li>
<li><p><code>"verbose"</code>: Always verbose.</p></li>
<li><p><code>"quiet"</code>: Always quiet.</p></li>
</ul><p>When set to quiet, the message is not displayed and the condition
is not signalled.</p>
    </div>
    <div class="section level2">
    <h2 id="stdout-and-stderr"><code>stdout</code> and <code>stderr</code><a class="anchor" aria-label="anchor" href="#stdout-and-stderr"></a></h2>


<p>By default, <code>abort()</code> and <code>inform()</code> print to standard output in
interactive sessions. This allows rlang to be in control of the
appearance of messages in IDEs like RStudio.</p>
<p>There are two situations where messages are streamed to <code>stderr</code>:</p><ul><li><p>In non-interactive sessions, messages are streamed to standard
error so that R scripts can easily filter them out from normal
output by redirecting <code>stderr</code>.</p></li>
<li><p>If a sink is active (either on output or on messages) messages
are always streamd to <code>stderr</code>.</p></li>
</ul><p>These exceptions ensure consistency of behaviour in interactive and
non-interactive sessions, and when sinks are active.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><a href="topic-error-call.html">Including function calls in error messages</a></p></li>
<li><p><a href="topic-error-chaining.html">Including contextual information with error chains</a></p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># These examples are guarded to avoid throwing errors</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Signal an error with a message just like stop():</span></span></span>
<span class="r-in"><span><span class="fu">abort</span><span class="op">(</span><span class="st">"The error message."</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Unhandled errors are saved automatically by `abort()` and can be</span></span></span>
<span class="r-in"><span><span class="co"># retrieved with `last_error()`. The error prints with a simplified</span></span></span>
<span class="r-in"><span><span class="co"># backtrace:</span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">g</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/eval.html" class="external-link">evalq</a></span><span class="op">(</span><span class="fu">h</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">h</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="fu">abort</span><span class="op">(</span><span class="st">"Tilt."</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="last_error.html">last_error</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use `summary()` to print the full backtrace and the condition fields:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="last_error.html">last_error</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Give a class to the error:</span></span></span>
<span class="r-in"><span><span class="fu">abort</span><span class="op">(</span><span class="st">"The error message"</span>, <span class="st">"mypkg_bad_error"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This allows callers to handle the error selectively</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">mypkg_function</span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  mypkg_bad_error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">err</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu">warn</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">conditionMessage</a></span><span class="op">(</span><span class="va">err</span><span class="op">)</span><span class="op">)</span> <span class="co"># Demote the error to a warning</span></span></span>
<span class="r-in"><span>    <span class="cn">NA</span>                          <span class="co"># Return an alternative value</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can also specify metadata that will be stored in the condition:</span></span></span>
<span class="r-in"><span><span class="fu">abort</span><span class="op">(</span><span class="st">"The error message."</span>, <span class="st">"mypkg_bad_error"</span>, data <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This data can then be consulted by user handlers:</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">mypkg_function</span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  mypkg_bad_error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">err</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># Compute an alternative return value with the data:</span></span></span>
<span class="r-in"><span>    <span class="fu">recover_error</span><span class="op">(</span><span class="va">err</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If you call low-level APIs it may be a good idea to create a</span></span></span>
<span class="r-in"><span><span class="co"># chained error with the low-level error wrapped in a more</span></span></span>
<span class="r-in"><span><span class="co"># user-friendly error. Use `try_fetch()` to fetch errors of a given</span></span></span>
<span class="r-in"><span><span class="co"># class and rethrow them with the `parent` argument of `abort()`:</span></span></span>
<span class="r-in"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="st">"http://foo.bar/baz"</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="try_fetch.html">try_fetch</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu">download</span><span class="op">(</span><span class="va">file</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">err</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="va">msg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Can't download `%s`"</span>, <span class="va">file</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="fu">abort</span><span class="op">(</span><span class="va">msg</span>, parent <span class="op">=</span> <span class="va">err</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can also hard-code the call when it's not easy to</span></span></span>
<span class="r-in"><span><span class="co"># forward it from the caller</span></span></span>
<span class="r-in"><span> <span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">abort</span><span class="op">(</span><span class="st">"my message"</span>, call <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/call.html" class="external-link">call</a></span><span class="op">(</span><span class="st">"my_function"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">f</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co"># Shows that the error occured in `my_function()`</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">g</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer></body></html>

