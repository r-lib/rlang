<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Scoped environments — scoped_env • rlang</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- tidyverse -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">rlang</a>
        <small class="tidyverse">part of the <a href="http://tidyverse.org">tidyverse</a></small>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Scoped environments</h1>
    </div>

    
    <p>Scoped environments are named environments which form a
parent-child hierarchy called the search path. They define what
objects you can see (are in scope) from your workspace. They
typically are package environments, i.e. special environments
containing all exported functions from a package (and whose parent
environment is the package namespace, which also contains
unexported functions). Package environments are attached to the
search path with <code><a href='http://www.rdocumentation.org/packages/base/topics/library'>base::library()</a></code>. Note however that any
environment can be attached to the search path, for example with
the unrecommended <code><a href='http://www.rdocumentation.org/packages/base/topics/attach'>base::attach()</a></code> base function which transforms
vectors to scoped environments.</p><ul>
<li><p>You can list all scoped environments with <code>scoped_names()</code>. Unlike
<code><a href='http://www.rdocumentation.org/packages/base/topics/search'>base::search()</a></code>, it also mentions the empty environment that
terminates the search path (it is given the name <code>"NULL"</code>).</p></li>
<li><p><code>scoped_envs()</code> returns all environments on the search path,
including the empty environment.</p></li>
<li><p><code>pkg_env()</code> takes a package name and returns the scoped
environment of packages if they are attached to the search path,
and throws an error otherwise.</p></li>
<li><p><code>is_scoped()</code> allows you to check whether a named environment is
on the search path.</p></li>
</ul>
    

    <pre class="usage"><span class='fu'>scoped_env</span>(<span class='no'>nm</span>)

<span class='fu'>pkg_env</span>(<span class='no'>pkg</span>)

<span class='fu'>pkg_env_name</span>(<span class='no'>pkg</span>)

<span class='fu'>scoped_names</span>()

<span class='fu'>scoped_envs</span>()

<span class='fu'>is_scoped</span>(<span class='no'>nm</span>)

<span class='fu'>base_env</span>()

<span class='fu'>global_env</span>()</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>nm</th>
      <td><p>The name of an environment attached to the search
path. Call <code><a href='http://www.rdocumentation.org/packages/base/topics/search'>base::search()</a></code> to see what is currently on the path.</p></td>
    </tr>
    <tr>
      <th>pkg</th>
      <td><p>The name of a package.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="search-path"><a class="anchor" href="#search-path"></a>Search path</h2>

    
    <p>The search path is a chain of scoped environments where newly
attached environments are the childs of earlier ones. However, the
global environment, where everything you define at top-level ends
up, is pinned as the head of that linked chain. Likewise, the base
package environment is pinned as the tail of the chain. You can
retrieve those environments with <code>global_env()</code> and <code>base_env()</code>
respectively. The global environment is also the environment of the
very first evaluation frame on the stack, see <code><a href='stack.html'>global_frame()</a></code> and
<code><a href='stack.html'>ctxt_stack()</a></code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># List the names of scoped environments:</span>
<span class='no'>nms</span> <span class='kw'>&lt;-</span> <span class='fu'>scoped_names</span>()
<span class='no'>nms</span></div><div class='output co'>#&gt;  [1] ".GlobalEnv"        "package:rlang"     "package:testthat" 
#&gt;  [4] "package:pkgdown"   "devtools_shims"    "ESSR"             
#&gt;  [7] "package:stats"     "package:graphics"  "package:grDevices"
#&gt; [10] "package:utils"     "package:datasets"  "package:methods"  
#&gt; [13] "Autoloads"         "package:base"      "NULL"             </div><div class='input'>
<span class='co'># The global environment is always the first in the chain:</span>
<span class='fu'>scoped_env</span>(<span class='no'>nms</span><span class='kw'>[[</span><span class='fl'>1</span>]])</div><div class='output co'>#&gt; &lt;environment: R_GlobalEnv&gt;</div><div class='input'>
<span class='co'># And the scoped environment of the base package is always the last:</span>
<span class='fu'>scoped_env</span>(<span class='no'>nms</span><span class='kw'>[[</span><span class='fu'>length</span>(<span class='no'>nms</span>)]])</div><div class='output co'>#&gt; &lt;environment: R_EmptyEnv&gt;</div><div class='input'>
<span class='co'># These two environments have their own shortcuts:</span>
<span class='fu'>global_env</span>()</div><div class='output co'>#&gt; &lt;environment: R_GlobalEnv&gt;</div><div class='input'><span class='fu'>base_env</span>()</div><div class='output co'>#&gt; &lt;environment: base&gt;</div><div class='input'>
<span class='co'># Packages appear in the search path with a special name. Use</span>
<span class='co'># pkg_env_name() to create that name:</span>
<span class='fu'>pkg_env_name</span>(<span class='st'>"rlang"</span>)</div><div class='output co'>#&gt; [1] "package:rlang"</div><div class='input'><span class='fu'>scoped_env</span>(<span class='fu'>pkg_env_name</span>(<span class='st'>"rlang"</span>))</div><div class='output co'>#&gt; &lt;environment: package:rlang&gt;
#&gt; attr(,"name")
#&gt; [1] "package:rlang"
#&gt; attr(,"path")
#&gt; [1] "/Users/lionel/Dropbox/R/hadley/rlang"</div><div class='input'>
<span class='co'># Alternatively, get the scoped environment of a package with</span>
<span class='co'># pkg_env():</span>
<span class='fu'>pkg_env</span>(<span class='st'>"utils"</span>)</div><div class='output co'>#&gt; &lt;environment: package:utils&gt;
#&gt; attr(,"name")
#&gt; [1] "package:utils"
#&gt; attr(,"path")
#&gt; [1] "/Library/Frameworks/R.framework/Versions/3.3/Resources/library/utils"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#search-path">Search path</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="tidyverse">
  <p>rlang is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="http://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, Lionel Henry.</p>
  <p>Site built by <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67989-18', 'auto');
  ga('send', 'pageview');
</script>
      </footer>
   </div>

  </body>
</html>
