<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create an exiting or in place handler — exiting • rlang</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- tidyverse -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">rlang</a>
        <small class="tidyverse">part of the <a href="http://tidyverse.org">tidyverse</a></small>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/tidy-evaluation.html">Tidy evaluation</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create an exiting or in place handler</h1>
    </div>

    
    <p>There are two types of condition handlers: exiting handlers, which
are thrown to the place where they have been established (e.g.,
<code><a href='with_handlers.html'>with_handlers()</a></code>'s evaluation frame), and local handlers, which
are executed in place (e.g., where the condition has been
signalled). <code>exiting()</code> and <code>inplace()</code> create handlers suitable
for <code><a href='with_handlers.html'>with_handlers()</a></code>.</p>
    

    <pre class="usage"><span class='fu'>exiting</span>(<span class='no'>handler</span>)

<span class='fu'>inplace</span>(<span class='no'>handler</span>, <span class='kw'>muffle</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>handler</th>
      <td><p>A handler function that takes a condition as
argument. This is passed to <code><a href='as_function.html'>as_function()</a></code> and can thus be a
formula describing a lambda function.</p></td>
    </tr>
    <tr>
      <th>muffle</th>
      <td><p>Whether to muffle the condition after executing an
inplace handler. The signalling function must have established a
muffling restart. Otherwise, an error will be issued.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A subtle point in the R language is that conditions are not thrown,
handlers are. <code><a href='http://www.rdocumentation.org/packages/base/topics/conditions'>base::tryCatch()</a></code> and <code><a href='with_handlers.html'>with_handlers()</a></code> actually
catch handlers rather than conditions. When a critical condition
signalled with <code><a href='http://www.rdocumentation.org/packages/base/topics/stop'>base::stop()</a></code> or <code><a href='abort.html'>abort()</a></code>, R inspects the handler
stack and looks for a handler that can deal with the condition. If
it finds an exiting handler, it throws it to the function that
established it (<code><a href='with_handlers.html'>with_handlers()</a></code>). That is, it interrupts the
normal course of evaluation and jumps to <code>with_handlers()</code>
evaluation frame (see <code><a href='stack.html'>ctxt_stack()</a></code>), and only then and there the
handler is called. On the other hand, if R finds an inplace
handler, it executes it locally. The inplace handler can choose to
handle the condition by jumping out of the frame (see <code><a href='rst_list.html'>rst_jump()</a></code>
or <code><a href='return_from.html'>return_from()</a></code>). If it returns locally, it declines to handle
the condition which is passed to the next relevant handler on the
stack. If no handler is found or is able to deal with the critical
condition (by jumping out of the frame), R will then jump out of
the faulty evaluation frame to top-level, via the abort restart
(see <code><a href='rst_abort.html'>rst_abort()</a></code>).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='with_handlers.html'>with_handlers()</a></code> for examples, <code><a href='restarting.html'>restarting()</a></code> for another
kind of inplace handler.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># You can supply a function taking a condition as argument:</span>
<span class='no'>hnd</span> <span class='kw'>&lt;-</span> <span class='fu'>exiting</span>(<span class='kw'>function</span>(<span class='no'>c</span>) <span class='fu'>cat</span>(<span class='st'>"handled foo\n"</span>))
<span class='fu'><a href='with_handlers.html'>with_handlers</a></span>(<span class='fu'><a href='cnd_signal.html'>cnd_signal</a></span>(<span class='st'>"foo"</span>), <span class='kw'>foo</span> <span class='kw'>=</span> <span class='no'>hnd</span>)</div><div class='output co'>#&gt; handled foo</div><div class='output co'>#&gt; NULL</div><div class='input'>
<span class='co'># Or a lambda-formula where "." is bound to the condition:</span>
<span class='fu'><a href='with_handlers.html'>with_handlers</a></span>(<span class='kw'>foo</span> <span class='kw'>=</span> <span class='fu'>inplace</span>(~<span class='fu'>cat</span>(<span class='st'>"hello"</span>, <span class='no'>.</span>$<span class='no'>attr</span>, <span class='st'>"\n"</span>)), {
  <span class='fu'><a href='cnd_signal.html'>cnd_signal</a></span>(<span class='st'>"foo"</span>, <span class='kw'>attr</span> <span class='kw'>=</span> <span class='st'>"there"</span>)
  <span class='st'>"foo"</span>
})</div><div class='output co'>#&gt; hello there </div><div class='output co'>#&gt; [1] "foo"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="tidyverse">
  <p>rlang is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="http://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>Developed by Lionel Henry, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
  <p>Site built by <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67989-18', 'auto');
  ga('send', 'pageview');
</script>
      </footer>
   </div>

  </body>
</html>
